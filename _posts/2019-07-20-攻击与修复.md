---
layout:     post   				    # 使用的布局（不需要改）
title:      2019-07-20-攻击与修复			# 标题 
subtitle:   两种攻击与修复 #副标题
date:       2019-07-20 				# 时间
author:     GSJ 						# 作者
header-img: img/post-bg-2015.jpg 	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - 现代密码学理论与实践
---

# 攻击与修复 <br>
### 下图是对"来自Trent的会话密钥的一种攻击 <br>
![](https://m.qpic.cn/psb?/V12qT2vm3miLqP/*4gqmYQ3eQ6emem8q3Oc9GIom3x.Klqa0gtJerybkzY!/b/dEgBAAAAAAAA&bo=uAH9ALgB*QADCSw!&rf=viewer_4&t=5) <br>
其中，Alice和Bob是会话双方，而Malice则是攻击者。我们假定，M和A共享密钥Kmt。这种攻击造成的结果是A认为在和B共享密钥Kmt。但事实上是在和M共享密钥Kmt。
整个流程如下：<br>
- A发给M("Trent"):A,B;<br>
- M("A")发给Trent:A,M;<br>
- Trent找出密钥Kat,Kmt,随机产生Kmt并发给A:{Kam}Kat,{Kam}Kmt;<br>
- A解密{Kam}Kat并发给M("B"):Trent,A,{Kam}Kmt;<br>
- M("B")发给A:{你好A.我是B}Kam;<br>
我们已经看到，上述攻击结果是M通过改变B的身份造成的。我们注意到这种改变是可能的，因为B的身份是用明文发送的。这就提示我们通过隐藏B的身份来改进协议。<br>
### 一种修补
针对以上情况，我们可以对协议进行修改，将第一条消息中B的身份处理成秘密的，用A和Trent之间的共享密钥进行加密。也就是说，协议第一条可以修改为A发送给Trent
:A,{B}Kat;<br>
在我看来，这里A的明文身份是必要的，以便Trent能知道他应用哪个密钥对密文部分进行解密。<br>
### 另一种攻击
但是，上述修改方法并没有为"来自Trent的会话密钥"提供一种彻底的修补。例如，不难看出，M会执行：<br>
- M("A")向Trent发送：A,{M}Kat;<br>
协议的其余部分与前面我们第一次讲到的攻击相同，刚开始，M确实无法知道A要和谁进行通信，但当他截获到A发送给B的消息时，就可以知道A和B进行通信，最终，M仍然
可以伪装成B。<br>
## 消息认证协议
综上所述，M总是可以改变协议的某些消息而不被发现。但遗憾的是，迄今为止所设计的协议均不能提供任何密码保护来防止消息被篡改。因而，修补这些协议的一个方法
就是提供这种保护。这种保护应该能够让拥有准确密钥的合法主体检测任何受保护协议消息的未授权改变。这样的保护或安全即称为`消息认证`。<br>
